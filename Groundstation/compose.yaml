services:
  handoff:
    build: ./Backend
    tty: true           # Enables terminal allocation
    stdin_open: true    # Keeps stdin open
    ports:
      - "14553:14553/udp"
      - "3003:3003"
  webserver:
    build: ./Frontend
    ports:
    - "5173:5173"
  mavproxy:
    image: sitin/mavproxy:latest
    stdin_open: true   # keep stdin open (interactive)
    tty: true          # allocate a TTY
    network_mode: "host"
    command:
        - --master
        - tcp:192.168.10.11:14553 #vehicle 1
        #- --master
        #- tcp:192.168.10.12:14553 #vehicle 2
        #- --master
        #- tcp:192.168.10.13:14553 #vehicle 3
        - --baud
        - "57600"
        - --out
        - host.docker.internal:14553
        - --out
        - host.docker.internal:14550
        - --streamrate=-1
        - --nowait
    #devices:
    #list devices below
    ports:
      - "14553:14553"
      - "14550:14550"